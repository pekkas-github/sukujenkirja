<!DOCTYPE html>

<html>

  <head>
    <style>
        
    body {
      margin: 0px;
      padding: 0px;
      height: 100vh;
    }

    iframe {
      display: block; 
      width: 100%;
      height: 100%;
      border: none; 
      overflow-y: auto; 
      overflow-x: hidden;
    }
        
    </style>
    <script>
        
      function openApplicationFrame (username) {
        const content = `
            <iframe src="https://script.google.com/macros/s/AKfycbxj09gScl21GDwUHSd68oszqOBQBi5QN3yxaMtjf_sjaTSys_h20DZD77YDUhRCjZA/exec?usertype=guest&username=${username}">
            scrolling="auto">
            </iframe>`

        document.body.innerHTML = content
      }
      
    </script>
  </head>

  <body>

    <div style="text-align: center;">
      <h2>Sukujen Kirja -kirjautuminen</h2>
      <p><input type="text" id="user-name" placeholder="Kirjoita nimesi"></p>
      <button id="btn-ok">Kirjaudu</button>
    </div>

    <script>

      const btnOk   = document.getElementById('btn-ok')
      const usrName = document.getElementById('user-name')
      
      btnOk.onclick = function() {
        const username = usrName.value.replaceAll(' ', '_')
        
        window.localStorage.setItem('username', username)
        openApplicationFrame(username)
      }
    
      const username = window.localStorage.getItem('username')
      if (username) openApplicationFrame(username)

    </script>
  </body>
</html>